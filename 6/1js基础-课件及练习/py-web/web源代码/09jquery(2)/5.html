<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>表单事件</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>表单</title>

    <!-- Bootstrap -->
    <link href="./public/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="./public/js/jquery-1.12.4.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="./public/js/bootstrap.min.js"></script>

    <style type="text/css">
		div,form,input{
			border-radius:0%;
		}

    </style>
</head>
<body>
	<form action="">
		用户名: <input type="text" name="username" readme="请输入6到18位用户名"><span></span>
		<br>
		密码: <input type="password" name="password"  readme="请输入6到18位密码"><span></span>
		<br>
		邮箱: <input type="text" name="email" readme="请输入正确的邮箱"><span></span>
		<br>
		<button>提交</button>
	</form>

   	<div class="container-fluid">

   		<div class="row">
   			<div class="col-md-4 col-md-offset-4">
   				<form action="" method="post">
   				  <div class="form-group has-error">
   				    <label for="exampleInputEmail1">Email address</label>
   				    <input style="border-radius:0%;" type="email" class="form-control input-lg" id="exampleInputEmail1" placeholder="Email">
   				  </div>
   				  <div class="form-group has-success">
   				    <label for="exampleInputPassword1">Password</label>
   				    <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
   				  </div>
   				  <div class="form-group">
   				    <label for="exampleInputFile">File input</label>
   				    <input type="file" id="exampleInputFile">
   				    <p class="help-block">Example block-level help text here.</p>
   				  </div>
   				  <div class="checkbox">
   				    <label>
   				      <input type="checkbox"> Check me out
   				    </label>
   				  </div>
					<div class="form-group">
   				  		<textarea class="form-control" rows="3"></textarea>
   				  	</div>

   				  <button type="submit" class="btn btn-default">Submit</button>
   				</form>

















	<script type="text/javascript" src="jquery-1.8.3.min.js"></script>
	<script type="text/javascript">
	//声明全局变量
	var NameOk = false;
	var PassOk = false;
	var EmailOk = false;

	//获取焦点事件 focus
	$('input').focus(function(){
		//获取焦点时,给予提示信息
		var at = $(this).attr('readme');
		$(this).next('span').html(at).css('color','blue');
		$(this).css('border','1px solid blue');
	})

	//绑定丧失焦点事件 blur
	$('input[name=username]').blur(function(){
		//获取用户的输入信息
		var v = $(this).val();
		var reg = /^\w{6,18}$/;
		if(reg.test(v)){
			$(this).next('span').html('√').css('color','green');
			$(this).css('border','1px solid green');
			//修改全局变量
			NameOk = true;
		}else{
			$(this).next('span').html('用户名格式不正确').css('color','red');
			$(this).css('border','1px solid red');
			//修改全局变量
			NameOk = false;
		}
	})

	//绑定丧失焦点事件 blur
	$('input[name=password]').blur(function(){
		//获取用户的输入信息
		var v = $(this).val();
		var reg = /^\w{6,18}$/;
		if(reg.test(v)){
			$(this).next('span').html('√').css('color','green');
			$(this).css('border','1px solid green');
			//修改全局变量
			PassOk = true;
		}else{
			$(this).next('span').html('密码格式不正确').css('color','red');
			$(this).css('border','1px solid red');
				//修改全局变量
			PassOk = false;
		}
	})

		//绑定丧失焦点事件 blur
	$('input[name=email]').blur(function(){
		//获取用户的输入信息
		var v = $(this).val();
		var reg = /^\w+@\w+\.(com|cn|org|net)$/;
		if(reg.test(v)){
			$(this).next('span').html('√').css('color','green');
			$(this).css('border','1px solid green');
			//修改全局变量
			EmailOk = true;
		}else{
			$(this).next('span').html('邮箱格式不正确').css('color','red');
			$(this).css('border','1px solid red');
			//修改全局变量
			EmailOk = false;
		}
	})

	

	//表单提交事件 submit
	$('form').submit(function(){
		//触发input 丧失焦点事件
		$('input').trigger('blur');

		//判断如果都正确
		if(NameOk && PassOk && EmailOk){
			return true;
		}
		//阻止默认行为
		return false;
	})



	</script>
</body>
</html>